window.onload=function(){var n=document.getElementById("display");document.body.addEventListener("keydown",e=>{let i=e.key,r=e.keyCode,t=[".","=","+","-","*","÷","x","X",":","/"],l=["(",")"];"0"!=n.innerHTML&&"NaN"!=n.innerHTML||isNaN(i)&&"("!=i&&"-"!=i||(n.innerHTML=""),t.includes(i)&&(!isNaN(n.innerHTML.charAt(n.innerHTML.length-1))||l.includes(n.innerHTML.charAt(n.innerHTML.length-1)))&&"NaN"!=n.innerHTML&&(["X","*"].includes(i)?(e.preventDefault(),n.innerHTML+="x"):["/",":"].includes(i)?(e.preventDefault(),n.innerHTML+="÷"):"."!=i||parseFloat(n.innerHTML.split("").reverse().join("")).toString().includes(".")?"."!=i&&(n.innerHTML+=i):n.innerHTML+="."),["1","2","3","4","5","6","7","8","9","0"].includes(i)&&(0==n.innerHTML.charAt(n.innerHTML.length-1)&&isNaN(n.innerHTML.charAt(n.innerHTML.length-2))&&"."!=n.innerHTML.charAt(n.innerHTML.length-2)?n.innerHTML=n.innerHTML.slice(0,n.innerHTML.length-1)+i:n.innerHTML+=i),l.includes(i)&&("("==i?n.innerHTML+=i:")"==i&&!t.includes(n.innerHTML.charAt(n.innerHTML.length-1))&&"("!=n.innerHTML.charAt(n.innerHTML.length-1)&&(n.innerHTML+=i)),8==r&&(1==n.innerHTML.length?n.innerHTML=0:"NaN"==n.innerHTML?n.innerHTML=0:n.innerHTML=n.innerHTML.slice(0,n.innerHTML.length-1));try{if(13==r){let e=math.evaluate(n.innerHTML.replace(/\[|{/g,"(").replace(/}|]/g,")").replace(/x/g,"*").replace(/÷/g,"/").replace(/√/g,"sqrt"));n.innerHTML="Infinity"==e||"-Infinity"==e?"NaN":e.toString().includes(".")&&!e.toString().includes("i")?e.toString().slice(0,14):e.toString().includes(".")&&e.toString().includes("i")?e.toString().slice(0,14)+"i":e}}catch(e){"-"!=n.innerHTML&&(n.innerHTML="NaN")}},!0),window.addEventListener("keydown",n=>{n.preventDefault()},!0),window.matchMedia("(max-width: 1000px)").matches&&(document.getElementById("grid-container").style.width="100vw",document.getElementById("grid-container").style.height="100%",document.getElementById("grid-container").style.border="0",document.getElementById("grid-container").style.border="0",document.getElementById("container").style.height="100%",document.getElementById("container").style.display="block",document.getElementById("grid-container").style.position="fixed",document.getElementById("welcome").style.display="none",document.body.style.backgroundColor="#1594dd")};let parentheses=["(",")"];function zero(n){"0"!=display.innerHTML&&"NaN"!=display.innerHTML||isNaN(n)&&"("!=n&&"-"!=n&&"√x"!=n||(display.innerHTML="")}function one(n){zero(n),++display.innerHTML}function two(n){zero(n),display.innerHTML+=2}function three(n){zero(n),display.innerHTML+=3}function four(n){zero(n),display.innerHTML+=4}function five(n){zero(n),display.innerHTML+=5}function six(n){zero(n),display.innerHTML+=6}function seven(n){zero(n),display.innerHTML+=7}function eight(n){zero(n),display.innerHTML+=8}function nine(n){zero(n),display.innerHTML+=9}function nought(n){zero(n),display.innerHTML+=0}function result(){try{let n=math.evaluate(display.innerHTML.replace(/\[|{/g,"(").replace(/}|]/g,")").replace(/x/g,"*").replace(/÷/g,"/").replace(/√/g,"sqrt"));display.innerHTML="Infinity"==n||"-Infinity"==n?"NaN":n.toString().includes(".")&&!n.toString().includes("i")?n.toString().slice(0,14):n.toString().includes(".")&&n.toString().includes("i")?n.toString().slice(0,14)+"i":n}catch(n){"-"!=display.innerHTML&&(display.innerHTML="NaN")}}function sqroot(n){zero(n),isNaN(display.innerHTML)?display.innerHTML+="√(":display.innerHTML="√("+display.innerHTML}function dot(n){parseFloat(display.innerHTML.split("").reverse().join("")).toString().includes(".")||"0."==display.innerHTML||"NaN"==display.innerHTML||(zero(n),display.innerHTML+=".")}function mi(n){(!isNaN(display.innerHTML.charAt(display.innerHTML.length-1))||parentheses.includes(display.innerHTML.charAt(display.innerHTML.length-1)))&&(zero(n),display.innerHTML+="-")}function pl(n){(!isNaN(display.innerHTML.charAt(display.innerHTML.length-1))||parentheses.includes(display.innerHTML.charAt(display.innerHTML.length-1)))&&"NaN"!=display.innerHTML&&(zero(n),display.innerHTML+="+")}function mu(n){(!isNaN(display.innerHTML.charAt(display.innerHTML.length-1))||parentheses.includes(display.innerHTML.charAt(display.innerHTML.length-1)))&&"NaN"!=display.innerHTML&&(zero(n),display.innerHTML+="x")}function di(n){(!isNaN(display.innerHTML.charAt(display.innerHTML.length-1))||parentheses.includes(display.innerHTML.charAt(display.innerHTML.length-1)))&&"NaN"!=display.innerHTML&&(zero(n),display.innerHTML+="÷")}function del(){display.innerHTML=1==display.innerHTML.length?0:"NaN"==display.innerHTML?0:display.innerHTML.slice(0,display.innerHTML.length-1)}function reset(){display.innerHTML="0"}function pa2(n){(!isNaN(display.innerHTML.charAt(display.innerHTML.length-1))||parentheses.includes(display.innerHTML.charAt(display.innerHTML.length-1)))&&"("!=display.innerHTML.charAt(display.innerHTML.length-1)&&"NaN"!=display.innerHTML&&"0"!=display.innerHTML&&(zero(n),display.innerHTML+=")")}function pa1(n){zero(n),display.innerHTML+="("}
