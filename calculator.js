function zero(n){"0"!=display.innerHTML&&"NaN"!=display.innerHTML||isNaN(n)&&"("!=n&&"-"!=n&&"√x"!=n&&"log"!=n&&"sin"!=n&&"cos"!=n||(display.innerHTML="")}function one(n){")"!=display.innerHTML.charAt(display.innerHTML.length-1)&&(zero(n),display.innerHTML=display.innerHTML+1)}function two(n){")"!=display.innerHTML.charAt(display.innerHTML.length-1)&&(zero(n),display.innerHTML=display.innerHTML+2)}function three(n){")"!=display.innerHTML.charAt(display.innerHTML.length-1)&&(zero(n),display.innerHTML=display.innerHTML+3)}function four(n){")"!=display.innerHTML.charAt(display.innerHTML.length-1)&&(zero(n),display.innerHTML=display.innerHTML+4)}function five(n){")"!=display.innerHTML.charAt(display.innerHTML.length-1)&&(zero(n),display.innerHTML=display.innerHTML+5)}function six(n){")"!=display.innerHTML.charAt(display.innerHTML.length-1)&&(zero(n),display.innerHTML=display.innerHTML+6)}function seven(n){")"!=display.innerHTML.charAt(display.innerHTML.length-1)&&(zero(n),display.innerHTML=display.innerHTML+7)}function eight(n){")"!=display.innerHTML.charAt(display.innerHTML.length-1)&&(zero(n),display.innerHTML=display.innerHTML+8)}function nine(n){")"!=display.innerHTML.charAt(display.innerHTML.length-1)&&(zero(n),display.innerHTML=display.innerHTML+9)}function nought(n){")"!=display.innerHTML.charAt(display.innerHTML.length-1)&&(zero(n),display.innerHTML=display.innerHTML+0)}function result(){try{let n=[],i=0,e=[],r=[];for(let s of display.innerHTML){"n"==s||"s"==s&&"o"==display.innerHTML.charAt(display.innerHTML.indexOf(s,i)-1)?n.push(display.innerHTML.indexOf(s,i)):n.push(0),i++,"e"==display.innerHTML.charAt(display.innerHTML.indexOf(s,i)-2)&&(i+=5);let l=i-1,a=Math.max(...n);if("n"==s||"s"==s&&"o"==display.innerHTML.charAt(display.innerHTML.indexOf(s,l)-1)){e=[],r=[];for(let n of display.innerHTML.slice(a,display.innerHTML.length)){if("("==n?e.push(n):")"==n&&r.push(n),")"==n&&e.length==r.length){display.innerHTML=display.innerHTML.slice(0,display.innerHTML.indexOf(")",l))+") deg"+display.innerHTML.slice(display.innerHTML.indexOf(")",l),display.innerHTML.length);break}l++}}}let s=math.evaluate(display.innerHTML.replace(/\[|{/g,"(").replace(/}|]/g,")").replace(/x/g,"*").replace(/÷/g,"/").replace(/√/g,"sqrt").replace(/log/g,"log10").replace(/sin\(/g,"sin((").replace(/cos\(/g,"cos(("));"Infinity"==s||"-Infinity"==s&&"-1"!=display.innerHTML.indexOf("÷0")?display.innerHTML="NaN":!(""+s).includes(".")||(""+s).includes("i")||(""+s).includes("e")?(""+s).includes(".")&&(""+s).includes("i")&&!(""+s).includes("e")?display.innerHTML=(""+s).slice(0,14)+"i":display.innerHTML="1.2246467991473532e-16"==s||"6.123233995736766e-17"==s||"-1.8369701987210297e-16"==s||"-2.4492935982947064e-16"==s?0:s:display.innerHTML=(""+s).slice(0,14),"0000000000000"==(""+s).slice(display.innerHTML.indexOf(".")+1,display.innerHTML.indexOf(".")+14)&&(display.innerHTML=(""+s).slice(0,display.innerHTML.indexOf("."))),"0.5000000000000001"==s||"0.49999999999999994"==s?display.innerHTML=.5:"-0.5000000000000001"!=s&&"-0.5000000000000004"!=s&&"-0.4999999999999998"!=s||(display.innerHTML=-.5)}catch(n){"-"!=display.innerHTML&&(display.innerHTML="NaN")}}function sqroot(n){zero(n),isNaN(display.innerHTML)?display.innerHTML=display.innerHTML+"√(":display.innerHTML="√("+display.innerHTML}function lg(n){zero(n),isNaN(display.innerHTML)?display.innerHTML=display.innerHTML+"log(":display.innerHTML="log("+display.innerHTML}function dot(n){(""+parseFloat(display.innerHTML.split("").reverse().join(""))).includes(".")||"0."==display.innerHTML||"NaN"==display.innerHTML||parentheses.includes(display.innerHTML.charAt(display.innerHTML.length-1))||(zero(n),display.innerHTML=display.innerHTML+".")}function mi(n){isNaN(display.innerHTML.charAt(display.innerHTML.length-1))&&!parentheses.includes(display.innerHTML.charAt(display.innerHTML.length-1))&&"x"!=display.innerHTML.charAt(display.innerHTML.length-1)&&"^"!=display.innerHTML.charAt(display.innerHTML.length-1)&&"÷"!=display.innerHTML.charAt(display.innerHTML.length-1)||(zero(n),display.innerHTML=display.innerHTML+"-")}function pl(n){isNaN(display.innerHTML.charAt(display.innerHTML.length-1))&&")"!=display.innerHTML.charAt(display.innerHTML.length-1)||"NaN"==display.innerHTML||(zero(n),display.innerHTML=display.innerHTML+"+")}function power(n){let i=[],e=[];["+","-","x","÷","("].forEach(function(n){("-"!=n&&"("!=n||"("==n&&"^"!=display.innerHTML.charAt(display.innerHTML.indexOf(n,e-1)-1)&&"-"==n&&"^"!=display.innerHTML.charAt(display.innerHTML.indexOf(n,e-1)-1)&&"("!=display.innerHTML.charAt(display.innerHTML.indexOf(n,e-1)-1))&&i.push(display.innerHTML.lastIndexOf(n)),e++});let r=Math.max(...i);if(")"==display.innerHTML.charAt(display.innerHTML.length-1)&&"NaN"!=display.innerHTML){let n=[],i=[],e=0;for(let r of display.innerHTML.split("").reverse().join("").slice(display.innerHTML.split("").reverse().join("").indexOf(")"),display.innerHTML.length)){"("==r?n.push(r):")"==r&&i.push(r),e++;let s=["s","g","n"];if(n.length==i.length&&s.includes(display.innerHTML.split("").reverse().join("").charAt(display.innerHTML.split("").reverse().join("").indexOf("(",e-1)+1))){if("^"==display.innerHTML.split("").reverse().join("").charAt(display.innerHTML.split("").reverse().join("").indexOf("(",e-1)+4)||"-"==display.innerHTML.split("").reverse().join("").charAt(display.innerHTML.split("").reverse().join("").indexOf("(",e-1)+4)&&"^"==display.innerHTML.split("").reverse().join("").charAt(display.innerHTML.split("").reverse().join("").indexOf("(",e-1)+5))continue;{let n="^)"+display.innerHTML.split("").reverse().join("").slice(display.innerHTML.split("").reverse().join("").indexOf(")"),display.innerHTML.split("").reverse().join("").indexOf("(",e-1)+4)+"(",i=n.split("").reverse().join("");display.innerHTML=display.innerHTML.slice(0,display.innerHTML.length-(display.innerHTML.split("").reverse().join("").indexOf("(",e-1)+4))+i;break}}if(n.length==i.length){if("^"==display.innerHTML.split("").reverse().join("").charAt(display.innerHTML.split("").reverse().join("").indexOf("(",e-1)+1))continue;{let n="^)"+display.innerHTML.split("").reverse().join("").slice(display.innerHTML.split("").reverse().join("").indexOf(")"),display.innerHTML.split("").reverse().join("").indexOf("(",e-1))+"(",i=n.split("").reverse().join("");display.innerHTML=display.innerHTML.slice(0,display.innerHTML.length-display.innerHTML.split("").reverse().join("").indexOf("(",e-1))+i;break}}}}else isNaN(display.innerHTML.charAt(display.innerHTML.length-1))||"NaN"==display.innerHTML||")"==display.innerHTML.charAt(display.innerHTML.length-1)||(zero(n),display.innerHTML=display.innerHTML.slice(0,r+1)+"("+display.innerHTML.slice(r+1,display.innerHTML.length)+")^")}function rec(n){let i=[],e=[];["+","-","x","÷","("].forEach(function(n){("-"!=n&&"("!=n||"("==n&&"^"!=display.innerHTML.charAt(display.innerHTML.indexOf(n,e-1)-1)&&"-"==n&&"^"!=display.innerHTML.charAt(display.innerHTML.indexOf(n,e-1)-1)&&"("!=display.innerHTML.charAt(display.innerHTML.indexOf(n,e-1)-1))&&i.push(display.innerHTML.lastIndexOf(n)),e++});let r=Math.max(...i);if(")"==display.innerHTML.charAt(display.innerHTML.length-1)&&"NaN"!=display.innerHTML){let n=[],i=[],e=0;for(let r of display.innerHTML.split("").reverse().join("").slice(display.innerHTML.split("").reverse().join("").indexOf(")"),display.innerHTML.length)){"("==r?n.push(r):")"==r&&i.push(r),e++;let s=["s","g","n"];if(n.length==i.length&&s.includes(display.innerHTML.split("").reverse().join("").charAt(display.innerHTML.split("").reverse().join("").indexOf("(",e-1)+1))){if("^"==display.innerHTML.split("").reverse().join("").charAt(display.innerHTML.split("").reverse().join("").indexOf("(",e-1)+4)||"-"==display.innerHTML.split("").reverse().join("").charAt(display.innerHTML.split("").reverse().join("").indexOf("(",e-1)+4)&&"^"==display.innerHTML.split("").reverse().join("").charAt(display.innerHTML.split("").reverse().join("").indexOf("(",e-1)+5))continue;{let n="1-^)"+display.innerHTML.split("").reverse().join("").slice(display.innerHTML.split("").reverse().join("").indexOf(")"),display.innerHTML.split("").reverse().join("").indexOf("(",e-1)+4)+"(",i=n.split("").reverse().join("");display.innerHTML=display.innerHTML.slice(0,display.innerHTML.length-(display.innerHTML.split("").reverse().join("").indexOf("(",e-1)+4))+i;break}}if(n.length==i.length){if("^"==display.innerHTML.split("").reverse().join("").charAt(display.innerHTML.split("").reverse().join("").indexOf("(",e-1)+1))continue;{let n="1-^)"+display.innerHTML.split("").reverse().join("").slice(display.innerHTML.split("").reverse().join("").indexOf(")"),display.innerHTML.split("").reverse().join("").indexOf("(",e-1))+"(",i=n.split("").reverse().join("");display.innerHTML=display.innerHTML.slice(0,display.innerHTML.length-display.innerHTML.split("").reverse().join("").indexOf("(",e-1))+i;break}}}}else isNaN(display.innerHTML.charAt(display.innerHTML.length-1))||"NaN"==display.innerHTML||")"==display.innerHTML.charAt(display.innerHTML.length-1)||(zero(n),display.innerHTML=display.innerHTML.slice(0,r+1)+"("+display.innerHTML.slice(r+1,display.innerHTML.length)+")^-1")}function mu(n){isNaN(display.innerHTML.charAt(display.innerHTML.length-1))&&")"!=display.innerHTML.charAt(display.innerHTML.length-1)||"NaN"==display.innerHTML||(zero(n),display.innerHTML=display.innerHTML+"x")}function di(n){isNaN(display.innerHTML.charAt(display.innerHTML.length-1))&&")"!=display.innerHTML.charAt(display.innerHTML.length-1)||"NaN"==display.innerHTML||(zero(n),display.innerHTML=display.innerHTML+"÷")}function del(){let n=["log(","sin(","cos(","√("];1==display.innerHTML.length||"NaN"==display.innerHTML||"log("==display.innerHTML||"sin("==display.innerHTML||"cos("==display.innerHTML||"√("==display.innerHTML?display.innerHTML=0:n.includes(display.innerHTML.slice(display.innerHTML.length-4,display.innerHTML.length))?display.innerHTML=display.innerHTML.slice(0,display.innerHTML.length-4):n.includes(display.innerHTML.slice(display.innerHTML.length-2,display.innerHTML.length))?display.innerHTML=display.innerHTML.slice(0,display.innerHTML.length-2):display.innerHTML=display.innerHTML.slice(0,display.innerHTML.length-1)}function reset(){display.innerHTML="0"}function pa2(n){isNaN(display.innerHTML.charAt(display.innerHTML.length-1))&&!parentheses.includes(display.innerHTML.charAt(display.innerHTML.length-1))||"("==display.innerHTML.charAt(display.innerHTML.length-1)||"NaN"==display.innerHTML||"0"==display.innerHTML||(zero(n),display.innerHTML=display.innerHTML+")")}function pa1(n){zero(n),display.innerHTML=display.innerHTML+"("}function sine(n){zero(n),isNaN(display.innerHTML)?display.innerHTML=display.innerHTML+"sin(":display.innerHTML="sin("+display.innerHTML}function cosine(n){zero(n),isNaN(display.innerHTML)?display.innerHTML=display.innerHTML+"cos(":display.innerHTML="cos("+display.innerHTML}window.onload=function(){var n=document.getElementById("display");const i=i=>{let e=i.key;let r=i.keyCode;let s=["1","2","3","4","5","6","7","8","9","0"];let l=[".","=","+","-","*","÷","x","X",":","/","^"];let a=["+","-","x","÷","("];let M=["(",")"];let L=["X","*"];let H=["/",":"];let T=["x","÷"];"0"!=n.innerHTML&&"NaN"!=n.innerHTML||isNaN(e)&&"("!=e&&"-"!=e||(n.innerHTML="");if(!l.includes(e)||"-"==e||isNaN(n.innerHTML.charAt(n.innerHTML.length-1))&&a.includes(n.innerHTML.charAt(n.innerHTML.length-1))||"NaN"==n.innerHTML)"-"!=e||!T.includes(n.innerHTML.charAt(n.innerHTML.length-1))&&"^"!=n.innerHTML.charAt(n.innerHTML.length-1)&&!M.includes(n.innerHTML.charAt(n.innerHTML.length-1))&&isNaN(n.innerHTML.charAt(n.innerHTML.length-1))||(n.innerHTML=n.innerHTML+"-");else if(L.includes(e))i.preventDefault(),n.innerHTML+="x";else if(H.includes(e))i.preventDefault(),n.innerHTML+="÷";else if("."!=e||(""+parseFloat(n.innerHTML.split("").reverse().join(""))).includes(".")||")"==n.innerHTML.charAt(n.innerHTML.length-1)){if("."!=e&&"^"!=e&&")"!=e)n.innerHTML+=e;else if("^"==e){let i=[],e=[],r=["+","-","x","÷","("];r.forEach(function(r){("-"!=r&&"("!=r||"("==r&&"^"!=n.innerHTML.charAt(n.innerHTML.indexOf(r,e-1)-1)&&"-"==r&&"^"!=n.innerHTML.charAt(n.innerHTML.indexOf(r,e-1)-1)&&"("!=n.innerHTML.charAt(n.innerHTML.indexOf(r,e-1)-1))&&i.push(n.innerHTML.lastIndexOf(r)),e++});let s=Math.max(...i);if(")"==n.innerHTML.charAt(n.innerHTML.length-1)&&"NaN"!=n.innerHTML){let i=[],e=[],r=0;for(let s of n.innerHTML.split("").reverse().join("").slice(n.innerHTML.split("").reverse().join("").indexOf(")"),n.innerHTML.length)){"("==s?i.push(s):")"==s&&e.push(s),r++;let l=["s","g","n"];if(i.length==e.length&&l.includes(n.innerHTML.split("").reverse().join("").charAt(n.innerHTML.split("").reverse().join("").indexOf("(",r-1)+1))){if("^"==n.innerHTML.split("").reverse().join("").charAt(n.innerHTML.split("").reverse().join("").indexOf("(",r-1)+4)||"-"==n.innerHTML.split("").reverse().join("").charAt(n.innerHTML.split("").reverse().join("").indexOf("(",r-1)+4)&&"^"==n.innerHTML.split("").reverse().join("").charAt(n.innerHTML.split("").reverse().join("").indexOf("(",r-1)+5))continue;{let i="^)"+n.innerHTML.split("").reverse().join("").slice(n.innerHTML.split("").reverse().join("").indexOf(")"),n.innerHTML.split("").reverse().join("").indexOf("(",r-1)+4)+"(",e=i.split("").reverse().join("");n.innerHTML=n.innerHTML.slice(0,n.innerHTML.length-(n.innerHTML.split("").reverse().join("").indexOf("(",r-1)+4))+e;break}}if(i.length==e.length){if("^"==n.innerHTML.split("").reverse().join("").charAt(n.innerHTML.split("").reverse().join("").indexOf("(",r-1)+1))continue;{let i="^)"+n.innerHTML.split("").reverse().join("").slice(n.innerHTML.split("").reverse().join("").indexOf(")"),n.innerHTML.split("").reverse().join("").indexOf("(",r-1))+"(",e=i.split("").reverse().join("");n.innerHTML=n.innerHTML.slice(0,n.innerHTML.length-n.innerHTML.split("").reverse().join("").indexOf("(",r-1))+e;break}}}}else isNaN(n.innerHTML.charAt(n.innerHTML.length-1))||"NaN"==n.innerHTML||")"==n.innerHTML.charAt(n.innerHTML.length-1)||(n.innerHTML=n.innerHTML.slice(0,s+1)+"("+n.innerHTML.slice(s+1,n.innerHTML.length)+")^")}}else n.innerHTML+=".";s.includes(e)&&(0==n.innerHTML.charAt(n.innerHTML.length-1)&&isNaN(n.innerHTML.charAt(n.innerHTML.length-2))&&"."!=n.innerHTML.charAt(n.innerHTML.length-2)?n.innerHTML=n.innerHTML.slice(0,n.innerHTML.length-1)+e:")"!=n.innerHTML.charAt(n.innerHTML.length-1)&&(n.innerHTML+=e));M.includes(e)&&("("==e?n.innerHTML=n.innerHTML+e:")"==e&&(l.includes(n.innerHTML.charAt(n.innerHTML.length-1))||"("==n.innerHTML.charAt(n.innerHTML.length-1)||0==n.innerHTML||(n.innerHTML=n.innerHTML+e)));if(8==r){let i=["log(","sin(","cos(","√("];1==n.innerHTML.length||"NaN"==n.innerHTML||"log("==n.innerHTML||"sin("==n.innerHTML||"cos("==n.innerHTML||"√("==n.innerHTML?n.innerHTML=0:i.includes(n.innerHTML.slice(n.innerHTML.length-4,n.innerHTML.length))?n.innerHTML=n.innerHTML.slice(0,n.innerHTML.length-4):i.includes(n.innerHTML.slice(n.innerHTML.length-2,n.innerHTML.length))?n.innerHTML=n.innerHTML.slice(0,n.innerHTML.length-2):n.innerHTML=n.innerHTML.slice(0,n.innerHTML.length-1)}try{if(13==r){let i=[],e=0,r=[],s=[];for(let l of n.innerHTML){"n"==l||"s"==l&&"o"==n.innerHTML.charAt(n.innerHTML.indexOf(l,e)-1)?i.push(n.innerHTML.indexOf(l,e)):i.push(0),e++,"e"==n.innerHTML.charAt(n.innerHTML.indexOf(l,e)-2)&&(e+=5);let a=e-1,M=Math.max(...i);if("n"==l||"s"==l&&"o"==n.innerHTML.charAt(n.innerHTML.indexOf(l,a)-1)){r=[],s=[];for(let i of n.innerHTML.slice(M,n.innerHTML.length)){if("("==i?r.push(i):")"==i&&s.push(i),")"==i&&r.length==s.length){n.innerHTML=n.innerHTML.slice(0,n.innerHTML.indexOf(")",a))+") deg"+n.innerHTML.slice(n.innerHTML.indexOf(")",a),n.innerHTML.length);break}a++}}}let l=math.evaluate(n.innerHTML.replace(/\[|{/g,"(").replace(/}|]/g,")").replace(/x/g,"*").replace(/÷/g,"/").replace(/√/g,"sqrt").replace(/log/g,"log10").replace(/sin\(/g,"sin((").replace(/cos\(/g,"cos(("));"Infinity"==l||"-Infinity"==l&&"-1"!=n.innerHTML.indexOf("÷0")?n.innerHTML="NaN":!(""+l).includes(".")||(""+l).includes("i")||(""+l).includes("e")?(""+l).includes(".")&&(""+l).includes("i")&&!(""+l).includes("e")?n.innerHTML=(""+l).slice(0,14)+"i":n.innerHTML="1.2246467991473532e-16"==l||"6.123233995736766e-17"==l||"-1.8369701987210297e-16"==l||"-2.4492935982947064e-16"==l?0:l:n.innerHTML=(""+l).slice(0,14),"000000000000"==(""+l).slice(n.innerHTML.indexOf(".")+2,n.innerHTML.indexOf(".")+14)&&(n.innerHTML=(""+l).slice(0,n.innerHTML.indexOf("."))),"0.5000000000000001"==l||"0.49999999999999994"==l?n.innerHTML=.5:"-0.5000000000000001"!=l&&"-0.5000000000000004"!=l&&"-0.4999999999999998"!=l||(n.innerHTML=-.5)}}catch(i){"-"!=n.innerHTML&&(n.innerHTML="NaN",console.log(i))}},e=n=>{n.preventDefault()};document.body.addEventListener("keydown",i,!0),window.addEventListener("keydown",e,!0)};let parentheses=["(",")"];
