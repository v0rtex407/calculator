function zero(n){"0"!=display.innerHTML&&"NaN"!=display.innerHTML||isNaN(n)&&"("!=n&&"-"!=n&&"√x"!=n&&"log"!=n||(display.innerHTML="")}function one(n){zero(n),display.innerHTML=display.innerHTML+1}function two(n){zero(n),display.innerHTML=display.innerHTML+2}function three(n){zero(n),display.innerHTML=display.innerHTML+3}function four(n){zero(n),display.innerHTML=display.innerHTML+4}function five(n){zero(n),display.innerHTML=display.innerHTML+5}function six(n){zero(n),display.innerHTML=display.innerHTML+6}function seven(n){zero(n),display.innerHTML=display.innerHTML+7}function eight(n){zero(n),display.innerHTML=display.innerHTML+8}function nine(n){zero(n),display.innerHTML=display.innerHTML+9}function nought(n){zero(n),display.innerHTML=display.innerHTML+0}function result(){try{let n=math.evaluate(display.innerHTML.replace(/\[|{/g,"(").replace(/}|]/g,")").replace(/x/g,"*").replace(/÷/g,"/").replace(/√/g,"sqrt").replace(/log/g,"log10"));"Infinity"!=n&&"-Infinity"!=n||"-1"==display.innerHTML.indexOf("÷0")?!(""+n).includes(".")||(""+n).includes("i")||(""+n).includes("e")?(""+n).includes(".")&&(""+n).includes("i")&&!(""+n).includes("e")?display.innerHTML=(""+n).slice(0,14)+"i":display.innerHTML=n:display.innerHTML=(""+n).slice(0,14):display.innerHTML="NaN"}catch(n){"-"!=display.innerHTML&&(display.innerHTML="NaN")}}function sqroot(n){zero(n),isNaN(display.innerHTML)?display.innerHTML=display.innerHTML+"√(":display.innerHTML="√("+display.innerHTML}function lg(n){zero(n),isNaN(display.innerHTML)?display.innerHTML=display.innerHTML+"log(":display.innerHTML="log("+display.innerHTML}function dot(n){(""+parseFloat(display.innerHTML.split("").reverse().join(""))).includes(".")||"0."==display.innerHTML||"NaN"==display.innerHTML||(zero(n),display.innerHTML=display.innerHTML+".")}function mi(n){isNaN(display.innerHTML.charAt(display.innerHTML.length-1))&&!parentheses.includes(display.innerHTML.charAt(display.innerHTML.length-1))||(zero(n),display.innerHTML=display.innerHTML+"-")}function pl(n){isNaN(display.innerHTML.charAt(display.innerHTML.length-1))&&!parentheses.includes(display.innerHTML.charAt(display.innerHTML.length-1))||"NaN"==display.innerHTML||(zero(n),display.innerHTML=display.innerHTML+"+")}function power(n){let e=[];["+","-","x","÷","("].forEach(function(n){e.push(display.innerHTML.lastIndexOf(n))});let i=Math.max(...e);isNaN(display.innerHTML.charAt(display.innerHTML.length-1))&&!parentheses.includes(display.innerHTML.charAt(display.innerHTML.length-1))||"NaN"==display.innerHTML||(zero(n),display.innerHTML=display.innerHTML.slice(0,i+1)+"("+display.innerHTML.slice(i+1,display.innerHTML.length)+")^")}function rec(n){isNaN(display.innerHTML.charAt(display.innerHTML.length-1))&&!parentheses.includes(display.innerHTML.charAt(display.innerHTML.length-1))||"NaN"==display.innerHTML||(zero(n),display.innerHTML=display.innerHTML+"^-1")}function mu(n){isNaN(display.innerHTML.charAt(display.innerHTML.length-1))&&!parentheses.includes(display.innerHTML.charAt(display.innerHTML.length-1))||"NaN"==display.innerHTML||(zero(n),display.innerHTML=display.innerHTML+"x")}function di(n){isNaN(display.innerHTML.charAt(display.innerHTML.length-1))&&!parentheses.includes(display.innerHTML.charAt(display.innerHTML.length-1))||"NaN"==display.innerHTML||(zero(n),display.innerHTML=display.innerHTML+"÷")}function del(){1==display.innerHTML.length?display.innerHTML=0:"NaN"==display.innerHTML?display.innerHTML=0:display.innerHTML=display.innerHTML.slice(0,display.innerHTML.length-1)}function reset(){display.innerHTML="0"}function pa2(n){isNaN(display.innerHTML.charAt(display.innerHTML.length-1))&&!parentheses.includes(display.innerHTML.charAt(display.innerHTML.length-1))||"("==display.innerHTML.charAt(display.innerHTML.length-1)||"NaN"==display.innerHTML||"0"==display.innerHTML||(zero(n),display.innerHTML=display.innerHTML+")")}function pa1(n){zero(n),display.innerHTML=display.innerHTML+"("}window.onload=function(){var n=document.getElementById("display");const e=e=>{let i=e.key;let r=e.keyCode;let l=["1","2","3","4","5","6","7","8","9","0"];let a=[".","=","+","-","*","÷","x","X",":","/","^"];let s=[];let d=["+","-","x","÷","("];let t=["(",")"];let M=["X","*"];let L=["/",":"];"0"!=n.innerHTML&&"NaN"!=n.innerHTML||isNaN(i)&&"("!=i&&"-"!=i||(n.innerHTML="");if(a.includes(i)&&(!isNaN(n.innerHTML.charAt(n.innerHTML.length-1))||t.includes(n.innerHTML.charAt(n.innerHTML.length-1)))&&"NaN"!=n.innerHTML)if(M.includes(i))e.preventDefault(),n.innerHTML+="x";else if(L.includes(i))e.preventDefault(),n.innerHTML+="÷";else if("."!=i||(""+parseFloat(n.innerHTML.split("").reverse().join(""))).includes(".")){if("."!=i&&"^"!=i)n.innerHTML+=i;else if("^"==i){e.preventDefault(),d.forEach(function(e){s.push(n.innerHTML.lastIndexOf(e))});let i=Math.max(...s);n.innerHTML=n.innerHTML.slice(0,i+1)+"("+n.innerHTML.slice(i+1,n.innerHTML.length)+")^"}}else n.innerHTML+=".";l.includes(i)&&(0==n.innerHTML.charAt(n.innerHTML.length-1)&&isNaN(n.innerHTML.charAt(n.innerHTML.length-2))&&"."!=n.innerHTML.charAt(n.innerHTML.length-2)?n.innerHTML=n.innerHTML.slice(0,n.innerHTML.length-1)+i:n.innerHTML+=i);t.includes(i)&&("("==i?n.innerHTML=n.innerHTML+i:")"==i&&(a.includes(n.innerHTML.charAt(n.innerHTML.length-1))||"("==n.innerHTML.charAt(n.innerHTML.length-1)||(n.innerHTML=n.innerHTML+i)));8==r&&(1==n.innerHTML.length?n.innerHTML=0:"NaN"==n.innerHTML?n.innerHTML=0:n.innerHTML=n.innerHTML.slice(0,n.innerHTML.length-1));try{if(13==r){let e=math.evaluate(n.innerHTML.replace(/\[|{/g,"(").replace(/}|]/g,")").replace(/x/g,"*").replace(/÷/g,"/").replace(/√/g,"sqrt"));"Infinity"==e||"-Infinity"==e&&"-1"!=n.innerHTML.indexOf("÷0")?n.innerHTML="NaN":!(""+e).includes(".")||(""+e).includes("i")||(""+e).includes("e")?(""+e).includes(".")&&(""+e).includes("i")&&!(""+e).includes("e")?n.innerHTML=(""+e).slice(0,14)+"i":n.innerHTML=e:n.innerHTML=(""+e).slice(0,14)}}catch(e){"-"!=n.innerHTML&&(n.innerHTML="NaN")}},i=n=>{n.preventDefault()};document.body.addEventListener("keydown",e,!0),window.addEventListener("keydown",i,!0),window.matchMedia("(max-width: 1000px)").matches&&(document.getElementById("grid-container").style.width="100vw",document.getElementById("grid-container").style.height="100%",document.getElementById("grid-container").style.border="0",document.getElementById("grid-container").style.border="0",document.getElementById("container").style.height="100%",document.getElementById("container").style.display="block",document.getElementById("grid-container").style.position="fixed",document.getElementById("welcome").style.display="none",document.body.style.backgroundColor="#1594dd")};let parentheses=["(",")"];
